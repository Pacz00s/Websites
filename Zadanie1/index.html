///TO DO
/// dodac formulr


<!DOCTYPE html>
<html>
    <head>
         <meta charset="UTF-8"> 
        <link rel="stylesheet" type="text/css" href="./styles.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script> 
        $(document).ready(function()
        {
            $("li.overlap").on("click","",handleOverlapsClick);
            
            function handleOverlapsClick()
            {
                var numberOfOverlap =$('li').index(this) ;
                var numerOfParagraph = numberOfOverlap;
               
                //Restore all element style    
                $('.panel').slideUp();
                $('ul li:has(ul)').css("background-color","e5eecc");
                $('.panel').css("display","none");

                //If clicked overlap is last overlap in list then try add new overlap (and paragrahp?)
                if( $( "li.overlap" ).length == numberOfOverlap+1)
                {
                   $('.overlap').last().remove();
                   $('ul').append("<li class='overlap'" + ">Zakładka " + (numerOfParagraph +1) + "</li>");
                   $('ul').append("<li class='overlap addoverlap' >+</li>");
                    
                    //Disable and reset overlaps behavior on click
                    $("li.overlap").off("click","",handleOverlapsClick);
                    $("li.overlap").on("click","",handleOverlapsClick);
                }
                //else try slide down paragraph
                else 
                {
                    if ($( "div.panel" ).eq( numerOfParagraph ).length > 0) 
                    {
                       $( "div.panel" ).eq( numerOfParagraph ).css( "background-color", "c6c9be" );
                       $( "div.panel" ).eq( numerOfParagraph ).slideDown();
                    }
                    else alert("Nie można rozwinąć akapitu " + (numerOfParagraph +1) + " gdyż ten nie istnieje." );
                }

            }

        });
        </script>

    </head>
    <body>
        <div>
            <ul id="overlap">
                <li class="overlap" >Zakladka 1</li>
                <li class="overlap" >Zakladka 2</li>
                <li class="overlap" >Zakladka 3</li>
                <li class="overlap" >Zakladka 4</li>
                <li class="overlap addoverlap" >+</li>
            </ul>
        </div>
        <div class="panel" >
            <h2>Akpit 1</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean facilisis sapien est, nec laoreet sem molestie sit amet. Curabitur sagittis libero at magna efficitur tempus. Phasellus quam tellus, auctor in arcu non, semper commodo neque. Ut eu euismod nisi. Pellentesque consequat bibendum ex, at lacinia nisl lacinia sit amet. Mauris cursus ligula ligula, vitae luctus massa vehicula a. Integer interdum diam enim, varius porta diam dignissim ut. Nam molestie posuere blandit. Nam viverra ut lorem eu euismod. Praesent non dignissim nunc. Praesent auctor facilisis quam, ac imperdiet sapien mollis blandit. Cras sit amet maximus erat. Curabitur venenatis rhoncus justo, vitae mollis nisl imperdiet vel. Vivamus nec sem eu risus sodales fringilla.</p>
        </div>
        <div class="panel" >
            <h2>Akapit 2</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean facilisis sapien est, nec laoreet sem molestie sit amet. Curabitur sagittis libero at magna efficitur tempus. Phasellus quam tellus, auctor in arcu non, semper commodo neque. Ut eu euismod nisi. Pellentesque consequat bibendum ex, at lacinia nisl lacinia sit amet. Mauris cursus ligula ligula, vitae luctus massa vehicula a. Integer interdum diam enim, varius porta diam dignissim ut. Nam molestie posuere blandit. Nam viverra ut lorem eu euismod. Praesent non dignissim nunc. Praesent auctor facilisis quam, ac imperdiet sapien mollis blandit. Cras sit amet maximus erat. Curabitur venenatis rhoncus justo, vitae mollis nisl imperdiet vel. Vivamus nec sem eu risus sodales fringilla.</p>
        </div>
        <div class="panel" >
            <h2>Akapit 3</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean facilisis sapien est, nec laoreet sem molestie sit amet. Curabitur sagittis libero at magna efficitur tempus. Phasellus quam tellus, auctor in arcu non, semper commodo neque. Ut eu euismod nisi. Pellentesque consequat bibendum ex, at lacinia nisl lacinia sit amet. Mauris cursus ligula ligula, vitae luctus massa vehicula a. Integer interdum diam enim, varius porta diam dignissim ut. Nam molestie posuere blandit. Nam viverra ut lorem eu euismod. Praesent non dignissim nunc. Praesent auctor facilisis quam, ac imperdiet sapien mollis blandit. Cras sit amet maximus erat. Curabitur venenatis rhoncus justo, vitae mollis nisl imperdiet vel. Vivamus nec sem eu risus sodales fringilla.</p>
        </div>
        <div class="panel" >
            <h2>Akapit 4</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean facilisis sapien est, nec laoreet sem molestie sit amet. Curabitur sagittis libero at magna efficitur tempus. Phasellus quam tellus, auctor in arcu non, semper commodo neque. Ut eu euismod nisi. Pellentesque consequat bibendum ex, at lacinia nisl lacinia sit amet. Mauris cursus ligula ligula, vitae luctus massa vehicula a. Integer interdum diam enim, varius porta diam dignissim ut. Nam molestie posuere blandit. Nam viverra ut lorem eu euismod. Praesent non dignissim nunc. Praesent auctor facilisis quam, ac imperdiet sapien mollis blandit. Cras sit amet maximus erat. Curabitur venenatis rhoncus justo, vitae mollis nisl imperdiet vel. Vivamus nec sem eu risus sodales fringilla.</p>
        </div>

    </body>
</html>
